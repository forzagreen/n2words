<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>n2words Browser Test Suite</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      .test-case {
        margin: 10px 0;
      }
      .pass {
        color: green;
      }
      .fail {
        color: red;
      }
      #status {
        font-weight: bold;
        font-size: 18px;
        margin: 20px 0;
      }
      #results {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px 0;
        font-family: monospace;
      }
    </style>
  </head>

  <body>
    <h1>n2words Browser Compatibility Test Suite</h1>
    <div id="status">Running tests...</div>
    <div id="results"></div>
  </body>
  <script src="../../dist/n2words.js"></script>
  <script>
    window.onload = () => {
      const results = document.getElementById('results');
      const status = document.getElementById('status');
      let passCount = 0;
      let failCount = 0;
      let output = '';

      function test(description, expected, actual) {
        const passed = actual === expected;
        const symbol = passed ? '✓' : '✗';
        const className = passed ? 'pass' : 'fail';

        output += `<div class="test-case ${className}">${symbol} ${description}</div>`;
        output += `<div class="test-case">   Expected: "${expected}", Got: "${actual}"</div>`;

        if (passed) {
          passCount++;
        } else {
          failCount++;
        }
      }

      // Basic number tests
      test('Basic: n2words(1)', 'one', n2words(1));
      test('Basic: n2words(0)', 'zero', n2words(0));
      test('Basic: n2words(42)', 'forty-two', n2words(42));
      test('Basic: n2words(100)', 'one hundred', n2words(100));
      test('Basic: n2words(1000)', 'one thousand', n2words(1000));
      test(
        'Basic: n2words(1234)',
        'one thousand two hundred and thirty-four',
        n2words(1234),
      );

      // Negative numbers
      test('Negative: n2words(-1)', 'minus one', n2words(-1));
      test('Negative: n2words(-42)', 'minus forty-two', n2words(-42));

      // Large numbers
      test('Large: n2words(1000000)', 'one million', n2words(1000000));
      test(
        'Large: n2words(1234567)',
        'one million two hundred and thirty-four thousand five hundred and sixty-seven',
        n2words(1234567),
      );

      // String input
      test(
        'String: n2words("123")',
        'one hundred and twenty-three',
        n2words('123'),
      );

      // Decimal numbers
      test('Decimal: n2words("3.14")', 'three point fourteen', n2words('3.14'));
      test('Decimal: n2words("0.5")', 'zero point five', n2words('0.5'));

      // Language options (Spanish)
      test(
        'Spanish: n2words(1, {lang: "es"})',
        'uno',
        n2words(1, { lang: 'es' }),
      );
      test(
        'Spanish: n2words(42, {lang: "es"})',
        'cuarenta y dos',
        n2words(42, { lang: 'es' }),
      );
      test(
        'Spanish: n2words(100, {lang: "es"})',
        'cien',
        n2words(100, { lang: 'es' }),
      );

      // Language options (French)
      test(
        'French: n2words(1, {lang: "fr"})',
        'un',
        n2words(1, { lang: 'fr' }),
      );
      test(
        'French: n2words(42, {lang: "fr"})',
        'quarante-deux',
        n2words(42, { lang: 'fr' }),
      );
      test(
        'French: n2words(100, {lang: "fr"})',
        'cent',
        n2words(100, { lang: 'fr' }),
      );

      // Language options (German)
      test(
        'German: n2words(1, {lang: "de"})',
        'eins',
        n2words(1, { lang: 'de' }),
      );
      test(
        'German: n2words(42, {lang: "de"})',
        'zweiundvierzig',
        n2words(42, { lang: 'de' }),
      );

      // Edge cases
      test(
        'BigInt: n2words(BigInt(123))',
        'one hundred and twenty-three',
        n2words(BigInt(123)),
      );

      // Error handling - invalid inputs should throw or return reasonable defaults
      try {
        const result = n2words('invalid');
        test(
          'Invalid input handling',
          'Error thrown',
          'Unexpected success: ' + result,
        );
      } catch (e) {
        test(
          'Invalid input handling',
          'Error thrown: Invalid number format: "invalid"',
          'Error thrown: ' + e.message,
        );
      }

      // Default language fallback
      test('Default fallback: n2words(5)', 'five', n2words(5));

      // Update results and status
      results.innerHTML = output;

      const totalTests = passCount + failCount;
      if (failCount === 0) {
        status.innerHTML = `Complete: All tests passed (${passCount}/${totalTests})`;
        status.className = 'pass';
      } else {
        status.innerHTML = `Complete: ${failCount} test(s) failed (${passCount}/${totalTests} passed)`;
        status.className = 'fail';
      }
    };
  </script>
</html>
